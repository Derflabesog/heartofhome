<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contact Us | Heart of Home Real Estate</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Contact Heart of Home Real Estate in Okahandja. Start building your dream home today.">

<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

<header class="fixed w-full bg-white shadow z-50">
  <div class="container mx-auto px-6 h-16 flex justify-between items-center">
    <a href="index.html" class="text-xl font-bold text-red-600">Heart of Home</a>
  </div>
</header>

<section class="h-80 bg-cover bg-center mt-16" style="background-image:url('https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=2000')">
  <div class="h-full bg-black bg-opacity-50 flex items-center justify-center">
    <h1 class="text-white text-4xl font-bold">Contact Us</h1>
  </div>
</section>

<section class="py-16">
  <div class="max-w-md mx-auto bg-white p-6 rounded shadow">
    <form action="https://formsubmit.co/admin@rimonnamibia.com" method="POST" class="space-y-4">
      <input type="hidden" name="_subject" value="New Lead from Contact Page">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://derflabesog.github.io/heartofhome/contact.html">
      
      <input type="text" name="name" class="w-full p-3 border rounded" placeholder="Name" required>
      <input type="text" name="contact" class="w-full p-3 border rounded" placeholder="Email or Phone" required>
      <textarea name="message" class="w-full p-3 border rounded" placeholder="Message" required></textarea>
      <button type="submit" class="w-full bg-red-600 text-white py-3 rounded hover:bg-red-700">Send Message</button>
    </form>
  </div>
</section>

<a href="https://wa.me/264814425143" class="fixed bottom-6 right-6 bg-green-500 p-4 rounded-full text-white shadow-lg">WhatsApp</a>

<footer class="bg-gray-900 text-white py-6 text-center">
Â© 2026 Heart of Home Real Estate
</footer>

<script>
    const contactForm = document.getElementById('contactForm');
    const submitButton = document.getElementById('submitButton');
    const formStatus = document.getElementById('formStatus');

    contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        submitButton.disabled = true;
        submitButton.textContent = 'Sending...';
        formStatus.classList.add('hidden');

        const formData = new FormData(contactForm);
        const data = Object.fromEntries(formData.entries());

        try {
            const response = await fetch('/submitForm', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data),
            });

            if (response.ok) {
                formStatus.textContent = 'Thank you! Your message has been sent.';
                formStatus.className = 'p-3 rounded text-center bg-green-100 text-green-800';
                formStatus.classList.remove('hidden');
                contactForm.reset();
            } else {
                throw new Error('Something went wrong.');
            }
        } catch (error) {
            formStatus.textContent = 'An error occurred. Please try again later.';
            formStatus.className = 'p-3 rounded text-center bg-red-100 text-red-800';
            formStatus.classList.remove('hidden');
        } finally {
            submitButton.disabled = false;
            submitButton.textContent = 'Send Message';
        }
    });
</script>

</body>
</html>const functions = require("firebase-functions");
const admin = require("firebase-admin");

admin.initializeApp();

/**
 * Receives a contact form submission and saves it to the 'leads' collection.
 */
exports.submitContactForm = functions.https.onRequest(async (req, res) => {
  // Set CORS headers for preflight requests
  res.set("Access-Control-Allow-Origin", "*");
  res.set("Access-Control-Allow-Methods", "POST");
  res.set("Access-Control-Allow-Headers", "Content-Type");

  if (req.method === "OPTIONS") {
    // Send response to OPTIONS requests
    res.status(204).send("");
    return;
  }

  // We only want to handle POST requests
  if (req.method !== "POST") {
    res.status(405).send("Method Not Allowed");
    return;
  }

  const { name, contact, message } = req.body;

  // Basic validation
  if (!name || !contact || !message) {
    res.status(400).send("Missing required fields.");
    return;
  }

  try {
    // Add a new document with a generated ID to the "leads" collection.
    await admin.firestore().collection("leads").add({
      name: name,
      contact: contact,
      message: message,
      createdAt: admin.firestore.FieldValue.serverTimestamp(),
    });

    // Send a success response
    res.status(200).send({ success: true, message: "Form submission successful!" });
  } catch (error) {
    console.error("Error saving to Firestore:", error);
    res.status(500).send({ success: false, message: "Internal Server Error." });
  }
});
{
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0"
  },
  "private": true
}
module.exports = {
  root: true,
  env: {
    es6: true,
    node: true,
  },
  extends: [
    "eslint:recommended",
    "google",
  ],
  rules: {
    quotes: ["error", "double"],
  },
};
